---
# Webmin role default variables

# Webmin installation
webmin_enabled: true
webmin_port: 10000
webmin_version: ""  # Empty = latest version; specify version like "2.520" to pin

# Webmin subdomain configuration (for nginx proxy)
webmin_subdomain: "cpanel.{{ domain }}"

# Repository configuration
webmin_repo_url: "https://download.webmin.com/download/yum"
webmin_gpg_key: "https://download.webmin.com/jcameron-key.asc"

# Nginx reverse proxy for Webmin (optional)
webmin_nginx_proxy: true  # Nginx reverse proxy enabled for subdomain access

# SSL configuration (Webmin runs on HTTP by default)
webmin_ssl_enabled: false

# Theme configuration - Use Authentic Theme with low-resource optimizations
webmin_theme: "authentic-theme"
webmin_authentic_live_stats: false  # Disable live stats to prevent memory leaks
webmin_authentic_stats_interval: 5000  # Polling interval in ms (default 1000)
webmin_authentic_stats_history_duration: 1800  # Stored duration in seconds (30 min)
webmin_authentic_monitor_cpu: true  # Enable CPU monitoring
webmin_authentic_monitor_memory: true  # Enable memory monitoring
webmin_authentic_monitor_disk: false  # Disable disk monitoring
webmin_authentic_monitor_network: false  # Disable network monitoring
webmin_authentic_monitor_services: false  # Disable services monitoring

# Repository installation method
# When true, use the official webmin-setup-repo.sh script (recommended by webmin.com)
webmin_repo_setup_script: true

# Authentic Theme release to install. Set to an explicit tag for pinned stable release.
# Default set to the latest stable known at time of editing; override to upgrade.
webmin_authentic_version: "26.22"
# Optional sha256 checksum for the downloaded release tarball (leave empty to skip verification)
webmin_authentic_checksum: ""

# Ensure iptables package/service is installed when firewall is enabled
webmin_use_iptables_service: true

# Notes and how to override
# These defaults are safe for most installs. To override globally for your inventory,
# set the same variables in `inventory/group_vars/all.yml` (for all hosts) or
# in `host_vars/<hostname>.yml` for per-host overrides. Example:
#
# inventory/group_vars/all.yml:
#   webmin_theme: "gray-theme"
#   webmin_authentic_live_stats: true
#
# Keep `webmin_authentic_version` pinned to a stable release tag to avoid installing
# unstable master builds. See https://github.com/webmin/authentic-theme/releases for tags.
